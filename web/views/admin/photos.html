{% extends "base.html" %}
{% block title %}Admin - Photos{% endblock %}
{% block head %}
	<style>
		ul.photolist li { width: 75px; text-align: center; border: solid 1px transparent; }
		ul.photolist li div { visibility: hidden; }
		ul.photolist li:hover { visibility: visible; border: solid 1px #dcdcdc; }
		ul.photolist li:hover img { border: solid 1px transparent; }
		ul.photolist li:hover div { visibility: visible; }
	</style>
{% endblock head %}
{% block main %}
	<h2>Photos</h2>
	<form class='gray' action='/admin/photo/upload' enctype='multipart/form-data' method='post'>
		<input name='photos' type='file' multiple>
		<input type='submit' value='Upload'>
	</form>
	<p>
		{% if prev %}
			<a href='{{ prev }}'>&laquo; Previous</a>
		{% endif %}
		{% if next %}
			<a href='{{ next }}'>Next &raquo;</a>
		{% endif %}
	</p>
	<ul class='photolist'>
		{% for photo in photos %}
			<li class='inline-block'>
				<img class='thumb' src='{{ photo.path.thumb }}'>
				<div>
					<a href='{{ photo.path.view }}'>View</a> |
					<form class='delete' action='{{ photo.path.delete }}' method='post'>
						<a href='#' class='delete'>Delete</a>
					</form>
				</div>
			</li>
		{% endfor %}
	</ul>
	<p>
		{% if prev %}
			<a href='{{ prev }}'>&laquo; Previous</a>
		{% endif %}
		{% if next %}
			<a href='{{ next }}'>Next &raquo;</a>
		{% endif %}
	</p>

{% endblock %}
{% block scripts %}
<script>
	jQuery( function( $ ){

		$( ".delete" ).click( function( event ) {
			var self = $( this );
			if ( confirm( "Delete this photo? (You cannot undo this.)" ) ) {
				self.closest( "form" ).submit();
			}
			return false;
		})

	});
</script>
{% endblock %}
